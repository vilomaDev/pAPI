"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1053],{4285:(e,t,r)=>{r.d(t,{Z:()=>i});var a=r(7294);function i(e){let{children:t}=e;return a.createElement("span",{style:{color:"#017501"}},"<",t,">")}},5710:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>m,frontMatter:()=>p,metadata:()=>o,toc:()=>d});var a=r(3117),i=(r(7294),r(3905)),n=r(4285);const p={title:"Strapi server (WIP)",slug:"/api/strapi-server",tags:["module","public"],toc_min_heading_level:2,toc_max_heading_level:5},l="Strapi Server",o={unversionedId:"api/strapi-server",id:"api/strapi-server",title:"Strapi server (WIP)",description:"Current state: Stable",source:"@site/docs/api/strapi-server.mdx",sourceDirName:"api",slug:"/api/strapi-server",permalink:"/api/strapi-server",draft:!1,editUrl:"https://github.com/strapi/strapi/tree/main/docs/docs/api/strapi-server.mdx",tags:[{label:"module",permalink:"/tags/module"},{label:"public",permalink:"/tags/public"}],version:"current",frontMatter:{title:"Strapi server (WIP)",slug:"/api/strapi-server",tags:["module","public"],toc_min_heading_level:2,toc_max_heading_level:5},sidebar:"api",previous:{title:"StrapiFS (WIP)",permalink:"/api/StrapiFS"},next:{title:"Telemetry Service",permalink:"/api/Telemetry"}},s={},d=[{value:"Module: Strapi server",id:"module-strapi-server",level:2},{value:"<code>createServer(strapi)</code>",id:"createserverstrapi",level:3},{value:"<code>StrapiServer.app</code>",id:"strapiserverapp",level:3},{value:"<code>StrapiServer.router</code>",id:"strapiserverrouter",level:3},{value:"<code>StrapiServer.httpServer</code>",id:"strapiserverhttpserver",level:3},{value:"<code>StrapiServer.api(name)</code>",id:"strapiserverapiname",level:3},{value:"<code>StrapiServer.use(...args)</code>",id:"strapiserveruseargs",level:3},{value:"<code>StrapiServer.routes(routes)</code>",id:"strapiserverroutesroutes",level:3},{value:"<code>StrapiServer.mount()</code>",id:"strapiservermount",level:3},{value:"<code>StrapiServer.initRouting()</code>",id:"strapiserverinitrouting",level:3},{value:"<code>StrapiServer.initMiddlewares()</code>",id:"strapiserverinitmiddlewares",level:3},{value:"<code>StrapiServer.listRoutes()</code>",id:"strapiserverlistroutes",level:3},{value:"<code>StrapiServer.listen(...args)</code>",id:"strapiserverlistenargs",level:3},{value:"<code>StrapiServer.destroy()</code>",id:"strapiserverdestroy",level:3},{value:"<code>StrapiAPIs</code>",id:"strapiapis",level:3}],u={toc:d};function m(e){let{components:t,...r}=e;return(0,i.kt)("wrapper",(0,a.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"strapi-server"},"Strapi Server"),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Current state: ",(0,i.kt)("strong",{parentName:"p"},"Stable"))),(0,i.kt)("p",null,"The Strapi server module permits to generate a Strapi http server."),(0,i.kt)("h2",{id:"module-strapi-server"},"Module: Strapi server"),(0,i.kt)("h3",{id:"createserverstrapi"},(0,i.kt)("inlineCode",{parentName:"h3"},"createServer(strapi)")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"strapi"),": ",(0,i.kt)("a",{parentName:"li",href:"Strapi"},(0,i.kt)(n.Z,{mdxType:"Type"},"Strapi"))),(0,i.kt)("li",{parentName:"ul"},"Returns: ",(0,i.kt)(n.Z,{mdxType:"Type"},"StrapiServer"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"const server = createServer(strapi);\n\nserver.listRoutes();\n")),(0,i.kt)("h3",{id:"strapiserverapp"},(0,i.kt)("inlineCode",{parentName:"h3"},"StrapiServer.app")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://devdocs.io/koa/index"},(0,i.kt)(n.Z,{mdxType:"Type"},"KoaJS")))),(0,i.kt)("p",null,"Strapi projects are using KoaJS to run the NodeJS server."),(0,i.kt)("h3",{id:"strapiserverrouter"},(0,i.kt)("inlineCode",{parentName:"h3"},"StrapiServer.router")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/ZijianHe/koa-router#router-"},(0,i.kt)(n.Z,{mdxType:"Type"},"@koa/router")))),(0,i.kt)("p",null,"Strapi projects are using a dependency of KoaJS called @koa/router."),(0,i.kt)("h3",{id:"strapiserverhttpserver"},(0,i.kt)("inlineCode",{parentName:"h3"},"StrapiServer.httpServer")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://nodejs.org/docs/latest-v18.x/api/http.html"},(0,i.kt)(n.Z,{mdxType:"Type"},"http.Server")))),(0,i.kt)("p",null,"The Strapi's HTTP server."),(0,i.kt)("h3",{id:"strapiserverapiname"},(0,i.kt)("inlineCode",{parentName:"h3"},"StrapiServer.api(name)")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"name"),": ",(0,i.kt)(n.Z,{mdxType:"Type"},"String")),(0,i.kt)("li",{parentName:"ul"},"Returns: ",(0,i.kt)("a",{parentName:"li",href:"#strapiapis"},(0,i.kt)(n.Z,{mdxType:"Type"},"StrapiAPIs")))),(0,i.kt)("p",null,"Getter for apis available in Strapi"),(0,i.kt)("h3",{id:"strapiserveruseargs"},(0,i.kt)("inlineCode",{parentName:"h3"},"StrapiServer.use(...args)")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://devdocs.io/koa/index#appusefunction"},(0,i.kt)(n.Z,{mdxType:"Type"},"KoaApp.use")))),(0,i.kt)("p",null,"Shortcut for Koa ",(0,i.kt)("inlineCode",{parentName:"p"},"app.use(...args)")," method."),(0,i.kt)("h3",{id:"strapiserverroutesroutes"},(0,i.kt)("inlineCode",{parentName:"h3"},"StrapiServer.routes(routes)")),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"TODO")),(0,i.kt)("h3",{id:"strapiservermount"},(0,i.kt)("inlineCode",{parentName:"h3"},"StrapiServer.mount()")),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"TODO")),(0,i.kt)("h3",{id:"strapiserverinitrouting"},(0,i.kt)("inlineCode",{parentName:"h3"},"StrapiServer.initRouting()")),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"TODO")),(0,i.kt)("h3",{id:"strapiserverinitmiddlewares"},(0,i.kt)("inlineCode",{parentName:"h3"},"StrapiServer.initMiddlewares()")),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"TODO")),(0,i.kt)("h3",{id:"strapiserverlistroutes"},(0,i.kt)("inlineCode",{parentName:"h3"},"StrapiServer.listRoutes()")),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"TODO")),(0,i.kt)("h3",{id:"strapiserverlistenargs"},(0,i.kt)("inlineCode",{parentName:"h3"},"StrapiServer.listen(...args)")),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"TODO")),(0,i.kt)("h3",{id:"strapiserverdestroy"},(0,i.kt)("inlineCode",{parentName:"h3"},"StrapiServer.destroy()")),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"TODO")),(0,i.kt)("h3",{id:"strapiapis"},(0,i.kt)("inlineCode",{parentName:"h3"},"StrapiAPIs")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)(n.Z,{mdxType:"Type"},"Object")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"content-api"),": ",(0,i.kt)("a",{parentName:"p",href:"API"},(0,i.kt)(n.Z,{mdxType:"Type"},"API"))),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"API used by external requesters"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"admin"),": ",(0,i.kt)("a",{parentName:"p",href:"API"},(0,i.kt)(n.Z,{mdxType:"Type"},"API"))),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"API used by admin panel")))),(0,i.kt)("p",null,"Strapi APIs is a map of all APIs available inside the Strapi project."))}m.isMDXComponent=!0},3905:(e,t,r)=>{r.d(t,{Zo:()=>d,kt:()=>v});var a=r(7294);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,a,i=function(e,t){if(null==e)return{};var r,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var o=a.createContext({}),s=function(e){var t=a.useContext(o),r=t;return e&&(r="function"==typeof e?e(t):p(p({},t),e)),r},d=function(e){var t=s(e.components);return a.createElement(o.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var r=e.components,i=e.mdxType,n=e.originalType,o=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),m=s(r),v=i,c=m["".concat(o,".").concat(v)]||m[v]||u[v]||n;return r?a.createElement(c,p(p({ref:t},d),{},{components:r})):a.createElement(c,p({ref:t},d))}));function v(e,t){var r=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var n=r.length,p=new Array(n);p[0]=m;var l={};for(var o in t)hasOwnProperty.call(t,o)&&(l[o]=t[o]);l.originalType=e,l.mdxType="string"==typeof e?e:i,p[1]=l;for(var s=2;s<n;s++)p[s]=r[s];return a.createElement.apply(null,p)}return a.createElement.apply(null,r)}m.displayName="MDXCreateElement"}}]);