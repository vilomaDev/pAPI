"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8260],{4285:(e,t,r)=>{r.d(t,{Z:()=>n});var a=r(7294);function n(e){let{children:t}=e;return a.createElement("span",{style:{color:"#017501"}},"<",t,">")}},549:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>c,frontMatter:()=>i,metadata:()=>s,toc:()=>m});var a=r(3117),n=(r(7294),r(3905)),l=r(4285);const i={title:"Telemetry Service",slug:"/api/Telemetry",tags:["module","public"],toc_min_heading_level:2,toc_max_heading_level:3},o="Telemetry",s={unversionedId:"api/telemetry",id:"api/telemetry",title:"Telemetry Service",description:"Current state: Stable",source:"@site/docs/api/telemetry.mdx",sourceDirName:"api",slug:"/api/Telemetry",permalink:"/api/Telemetry",draft:!1,editUrl:"https://github.com/strapi/strapi/tree/main/docs/docs/api/telemetry.mdx",tags:[{label:"module",permalink:"/tags/module"},{label:"public",permalink:"/tags/public"}],version:"current",frontMatter:{title:"Telemetry Service",slug:"/api/Telemetry",tags:["module","public"],toc_min_heading_level:2,toc_max_heading_level:3},sidebar:"api",previous:{title:"Strapi server (WIP)",permalink:"/api/strapi-server"}},p={},m=[{value:"Usage Information",id:"usage-information",level:2},{value:"Module: Telemetry Service",id:"module-telemetry-service",level:2},{value:"createTelemetryInstance()",id:"createtelemetryinstance",level:3},{value:"Examples",id:"examples",level:4},{value:"Methods",id:"methods",level:2},{value:"<code>telemetry.register()</code>",id:"telemetryregister",level:3},{value:"Examples",id:"examples-1",level:4},{value:"<code>telemetry.bootstrap()</code>",id:"telemetrybootstrap",level:3},{value:"Examples",id:"examples-2",level:4},{value:"<code>telemetry.destroy()</code>",id:"telemetrydestroy",level:3},{value:"Examples",id:"examples-3",level:4},{value:"<code>telemetry.send(event, payload)</code>",id:"telemetrysendevent-payload",level:3},{value:"Examples",id:"examples-4",level:4},{value:"Types",id:"types",level:2},{value:"<code>TelemetryPayload</code>",id:"telemetrypayload",level:3}],d={toc:m};function c(e){let{components:t,...r}=e;return(0,n.kt)("wrapper",(0,a.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"telemetry"},"Telemetry"),(0,n.kt)("admonition",{type:"info"},(0,n.kt)("p",{parentName:"admonition"},"Current state: ",(0,n.kt)("strong",{parentName:"p"},"Stable"))),(0,n.kt)("p",null,"The telemetry service is responsible for collecting and sending anonymous usage data to Strapi. This service is disabled by default, but can be enabled or disabled via configuration."),(0,n.kt)("h2",{id:"usage-information"},"Usage Information"),(0,n.kt)("p",null,"The collected usage data is used to help Strapi improve the product by identifying areas of improvement, tracking feature adoption, and measuring performance. You can learn more about the usage data that is collected by visiting the following link:"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://docs.strapi.io/developer-docs/latest/getting-started/usage-information.html"},"https://docs.strapi.io/developer-docs/latest/getting-started/usage-information.html")),(0,n.kt)("h2",{id:"module-telemetry-service"},"Module: Telemetry Service"),(0,n.kt)("h3",{id:"createtelemetryinstance"},"createTelemetryInstance()"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"strapi: ",(0,n.kt)("a",{parentName:"li",href:"Strapi"},(0,n.kt)(l.Z,{mdxType:"Type"},"Strapi"))," - A strapi instance.")),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"createTelemetryInstance()")," function returns an instance of the Telemetry service."),(0,n.kt)("h4",{id:"examples"},"Examples"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},"const createTelemetryInstance = require('path/to/telemetry');\n\nconst telemetry = createTelemetryInstance(strapi);\n")),(0,n.kt)("h2",{id:"methods"},"Methods"),(0,n.kt)("h3",{id:"telemetryregister"},(0,n.kt)("inlineCode",{parentName:"h3"},"telemetry.register()")),(0,n.kt)("p",null,"Registers the telemetry instance."),(0,n.kt)("h4",{id:"examples-1"},"Examples"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},"telemetry.register();\n")),(0,n.kt)("h3",{id:"telemetrybootstrap"},(0,n.kt)("inlineCode",{parentName:"h3"},"telemetry.bootstrap()")),(0,n.kt)("p",null,"Bootstraps the telemetry instance."),(0,n.kt)("h4",{id:"examples-2"},"Examples"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},"telemetry.bootstrap();\n")),(0,n.kt)("h3",{id:"telemetrydestroy"},(0,n.kt)("inlineCode",{parentName:"h3"},"telemetry.destroy()")),(0,n.kt)("p",null,"Destroys the telemetry instance."),(0,n.kt)("h4",{id:"examples-3"},"Examples"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},"telemetry.destroy();\n")),(0,n.kt)("h3",{id:"telemetrysendevent-payload"},(0,n.kt)("inlineCode",{parentName:"h3"},"telemetry.send(event, payload)")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"event"),": ",(0,n.kt)(l.Z,{mdxType:"Type"},"String")," - The event to be sent."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"payload"),": ",(0,n.kt)("a",{parentName:"li",href:"#telemetrypayload"},(0,n.kt)(l.Z,{mdxType:"Type"},"TelemetryPayload"))," - The payload to be sent with the event."),(0,n.kt)("li",{parentName:"ul"},"Returns: Promise")),(0,n.kt)("p",null,"Sends telemetry event with the given payload."),(0,n.kt)("h4",{id:"examples-4"},"Examples"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},"telemetry.send('event_name', { key: 'value' });\n")),(0,n.kt)("h2",{id:"types"},"Types"),(0,n.kt)("h3",{id:"telemetrypayload"},(0,n.kt)("inlineCode",{parentName:"h3"},"TelemetryPayload")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)(l.Z,{mdxType:"Type"},"Object"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"eventProperties"),": ",(0,n.kt)(l.Z,{mdxType:"Type"},"Object")," An object that contains additional information about the event."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"userProperties"),": ",(0,n.kt)(l.Z,{mdxType:"Type"},"Object")," An object that defines the identity of the user who triggered the event."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"groupProperties"),": ",(0,n.kt)(l.Z,{mdxType:"Type"},"Object")," An object that defines properties of the application or environment in which the event occurred.")))),(0,n.kt)("p",null,"Examples of event properties in Strapi include model, containsRelationalFields, displayedFields, kind, and hasDraftAndPublish. These properties are specific to the event and are used to provide additional context about what happened."),(0,n.kt)("p",null,"User properties can include information such as the user's operating system, node version, and hostname. These properties are typically used to group events by user or to filter events based on certain user characteristics."),(0,n.kt)("p",null,"Group properties can include information such as the language(s) used in the application, the database being used, and the number of locales. These properties are typically used to group events by application version, environment, or other characteristics."))}c.isMDXComponent=!0},3905:(e,t,r)=>{r.d(t,{Zo:()=>m,kt:()=>u});var a=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var s=a.createContext({}),p=function(e){var t=a.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},m=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,l=e.originalType,s=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),c=p(r),u=n,y=c["".concat(s,".").concat(u)]||c[u]||d[u]||l;return r?a.createElement(y,i(i({ref:t},m),{},{components:r})):a.createElement(y,i({ref:t},m))}));function u(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=r.length,i=new Array(l);i[0]=c;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:n,i[1]=o;for(var p=2;p<l;p++)i[p]=r[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,r)}c.displayName="MDXCreateElement"}}]);